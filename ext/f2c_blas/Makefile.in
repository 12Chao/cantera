#/bin/sh
#/bin/sh
#
# $Source$
# $Author$
# $Revision$
# $Date$
# $License$
#

.SUFFIXES :
.SUFFIXES : .c .d .o


# the directory where the Cantera libraries are located
CANTERA_LIBDIR=@buildlib@

# the directory where Cantera include files may be found.
CANTERA_INCDIR=@ctroot@/build/include/cantera

# the C++ compiler
CXX = @CXX@

# the C compiler
CC = @CC@

# C++ compile flags
CXX_FLAGS = @CXXFLAGS@ $(CXX_OPT)

# Local include files
CXX_INCLUDES=-I../f2c_libs

# How to compile the dependency file
.c.d:
	g++ -MM  $(CXX_FLAGS) $(CXX_INCLUDES) $*.c > $*.d

# How to compile a C file
.c.o:
	@CC@ -c $< @DEFS@ $(CXX_FLAGS) $(CXX_INCLUDES)


# -----------------------------------------------

BLASLIB = @buildlib@/libctblas.a

all: $(BLASLIB)

OBJS = \
dasum.o \
daxpy.o \
dcabs1.o \
dcopy.o \
ddot.o \
dgbmv.o \
dgemm.o \
dgemv.o \
dger.o \
dnrm2.o \
drot.o \
drotg.o \
drotm.o \
drotmg.o \
dsbmv.o \
dscal.o \
dsdot.o \
dspmv.o \
dspr.o \
dspr2.o \
dswap.o \
dsymm.o \
dsymv.o \
dsyr.o \
dsyr2.o \
dsyr2k.o \
dsyrk.o \
dtbmv.o \
dtbsv.o \
dtpmv.o \
dtpsv.o \
dtrmm.o \
dtrmv.o \
dtrsm.o \
dtrsv.o \
dzasum.o \
dznrm2.o \
idamax.o \
lsame.o \
xerbla.o 

SRCS = $(OBJS:.o=.cpp)

# List of dependency files to be created
DEPENDS=$(OBJS:.o=.d)

# rule to make library
$(BLASLIB):  $(OBJS)
	@ARCHIVE@ $(BLASLIB) $(OBJS) > /dev/null


# ------------------------------------------------
# Utility Targets

clean:
	$(RM) $(OBJS) $(BLASLIB) *.d .depends

# depends target
depends:
	$(RM) *.d .depends
	@MAKE@ .depends

.depends: $(DEPENDS)
	cat *.d > .depends
