#!/bin/sh

INSTALL='@INSTALL@'

PYVERSION=2.3
PKGDIR=$HOME/Packages

CTDIR=$PKGDIR/Cantera/root_dir/Applications/Cantera
PYDIR=$PKGDIR/Cantera/root_dir/Library/Python/$PYVERSION
RESDIR=$PKGDIR/Cantera/resources_dir

NUMPYDIR=$PKGDIR/Numeric/root_dir/Library/Python/$PYVERSION
NUMRESDIR=$PKGDIR/Numeric/resources_dir

NUMARRAYPYDIR=$PKGDIR/numarray/root_dir/Library/Python/$PYVERSION
NUMARRAYRESDIR=$PKGDIR/numarray/resources_dir

# where Cantera has been installed
instdir=/Applications/Cantera
pylibdir=/Library/Python/$PYVERSION

$INSTALL -d $CTDIR
$INSTALL -d $PYDIR/Cantera
$INSTALL -d $PYDIR/MixMaster
$INSTALL -d $RESDIR

$INSTALL -d $NUMPYDIR/Numeric
$INSTALL -d $NUMRESDIR

$INSTALL -d $NUMARRAYPYDIR/Numeric
$INSTALL -d $NUMARRAYRESDIR

rm -r -f $CTDIR/*
rm -r -f $PYDIR/*
rm -r -f $RESDIR/*
rm -r -f $NUMPYDIR/*
rm -r -f $NUMRESDIR/*
rm -r -f $NUMARRAYPYDIR/*
rm -r -f $NUMARRAYRESDIR/*

cp -R -f $instdir/* $CTDIR
chmod +x $CTDIR/bin/*
rm -r -f $CTDIR/lib

cp -R -f $PKGDIR/apps/* $CTDIR

cp -R -f $pylibdir/Cantera/* $PYDIR/Cantera
cp -R -f $pylibdir/MixMaster/* $PYDIR/MixMaster
cp -f $pylibdir/ctml_writer.py $PYDIR
cp -f ~/setup_cantera $CTDIR

chmod +x @ctroot@/tools/src/postflight
cp -f @ctroot@/tools/src/postflight $RESDIR
cp -f @ctroot@/License.rtf $RESDIR

cp -R -f $pylibdir/Numeric/* $NUMPYDIR/Numeric
cp -f $pylibdir/Numeric.pth $NUMPYDIR

cp -R -f $pylibdir/numarray/* $NUMARRAYPYDIR/numarray

