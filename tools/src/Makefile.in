#/bin/sh

LIBDIR = @buildlib@
INCDIR = -I@ctroot@/Cantera/src
BINDIR = @ctroot@/bin
build_ck = @BUILD_CK@

LCXX_FLAGS = -L$(LIBDIR)  @CXXFLAGS@
LOCAL_LIBS = -lcantera @math_libs@ @LAPACK_LIBRARY@ @BLAS_LIBRARY@

LCXX_END_LIBS = @LCXX_END_LIBS@
OBJS = ck2ctml.o

DEPENDS = $(OBJS:.o=.d)

.cpp.o:
	@CXX@ -c $< @DEFS@  $(INCDIR) @CXXFLAGS@ $(CXX_FLAGS) 

all: $(BINDIR)/ck2ctml

$(BINDIR)/ck2ctml: ck2ctml.o
	@CXX@ -o $(BINDIR)/ck2ctml ck2ctml.o $(LCXX_FLAGS) -lconverters $(LOCAL_LIBS) \
               $(LCXX_END_LIBS)
clean:
	$(RM) *.o *.*~

%.d:
	@CXX@ -MM $(INCDIR) @CXXFLAGS@ $(CXX_FLAGS) $*.cpp > $*.d

depends: $(DEPENDS)
	cat *.d &> .depends
	$(RM) $(DEPENDS)

ifeq ((test -e .depends),0)
include .depends
endif
